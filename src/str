/*!
 * Copyright (c) Aaron Delasy
 * Licensed under the MIT License
 */

// todo v0.13 - replace with str.split
fn str_split (self: str, delimiter := "") str[] {
  delimiterLen := delimiter.len
  mut result: str[]

  if delimiterLen == 0 {
    loop i := 0; i < self.len; i++ {
      result.push(self[i].str())
    }

    return result
  }

  mut text := ""

  loop i := 0; i < self.len; i++ {
    if self.slice(i, i + delimiterLen) == delimiter {
      i += delimiterLen - 1
      result.push(text)
      text = ""
    } else {
      text += self[i].str()
    }
  }

  result.push(text)
  return result
}
